package x86_test

import (
	"testing"

	"git.urbach.dev/cli/q/src/x86"
	"git.urbach.dev/go/assert"
)

func TestNop(t *testing.T) {
	assert.True(t, len(x86.Nop(nil, 0)) == 0)
	assert.DeepEqual(t, x86.Nop(nil, 1), []byte{0x90})
	assert.DeepEqual(t, x86.Nop(nil, 2), []byte{0x66, 0x90})
	assert.DeepEqual(t, x86.Nop(nil, 3), []byte{0x0F, 0x1F, 0x00})
	assert.DeepEqual(t, x86.Nop(nil, 4), []byte{0x0F, 0x1F, 0x40, 0x00})
	assert.DeepEqual(t, x86.Nop(nil, 5), []byte{0x0F, 0x1F, 0x44, 0x00, 0x00})
	assert.DeepEqual(t, x86.Nop(nil, 6), []byte{0x66, 0x0F, 0x1F, 0x44, 0x00, 0x00})
	assert.DeepEqual(t, x86.Nop(nil, 7), []byte{0x0F, 0x1F, 0x80, 0x00, 0x00, 0x00, 0x00})
	assert.DeepEqual(t, x86.Nop(nil, 8), []byte{0x0F, 0x1F, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00})
	assert.DeepEqual(t, x86.Nop(nil, 9), []byte{0x66, 0x0F, 0x1F, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00})
	assert.DeepEqual(t, x86.Nop(nil, 10), []byte{0x66, 0x0F, 0x1F, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00, 0x90})
}